<script src="/hooks/rpi-info/js/rpi.config.js"></script>
<script src="/hooks/rpi-info/js/rpi.service.js"></script>
<script src="/hooks/rpi-info/js/rpi.controller.js"></script>

<div data-ng-controller="rpiCtrl as vm">
  <div class="row" ng-show="!vm.ready">
    <div class="col-centered col-md-6 col-md-offset-6">
      <div class="spinner-box">
        <div class="spinner">
          <div class="double-bounce1"></div>
          <div class="double-bounce2"></div>
        </div>
      </div>
    </div>
  </div>

  <div class="row" ng-show="vm.ready" ng-cloak>
    <div class="col-md-12">
      <button class="btn btn-flat btn-primary margin" ng-click="vm.refresh()"><i class="fa fa-refresh"></i> {{
        'REFRESH' |
        translate }}</button>
    </div>
  </div>

  <div class="row" ng-show="vm.ready" ng-cloak>
    <!-- Raspberry Model-->
    <div class="col-centered col-md-4">
      <div class="box box-widget widget-user-2 card grid-item">
        <div class="box-header with-border">
          <h4 class="widget-user-username">{{ 'MATERIEL' | translate }}</h4>
        </div>
        <div class="box-body table-responsive">
          <table class="table table-striped">
            <tbody>
              <th colspan="2">Modèle</th>
              <tr>
                <td style="vertical-align: middle">Model</td>
                <td style="vertical-align: middle">{{vm.model.full_name}}</td>
              </tr>
              <tr>
                <td style="vertical-align: middle">Date de sortie</td>
                <td style="vertical-align: middle">{{vm.model.date}}</td>
              </tr>
              <tr>
                <td style="vertical-align: middle">Ram</td>
                <td style="vertical-align: middle">{{vm.model.memory}}</td>
              </tr>
              <tr>
                <td style="vertical-align: middle">Note</td>
                <td style="vertical-align: middle">{{vm.model.notes}}</td>
              </tr>
              <th colspan="2">Processeur</th>
              <tr>
                <td style="vertical-align: middle">Type</td>
                <td style="vertical-align: middle">{{vm.core.model}}</td>
              </tr>
              <tr>
                <td style="vertical-align: middle">Nombre de coeur</td>
                <td style="vertical-align: middle">{{vm.core.count}}</td>
              </tr>
              <tr>
                <td style="vertical-align: middle">Fréquence</td>
                <td style="vertical-align: middle">{{vm.core.frequency}}</td>
              </tr>
              <tr>
                <td style="vertical-align: middle">Tension</td>
                <td style="vertical-align: middle">{{vm.core.voltage}} V</td>
              </tr>
              <tr>
                <td style="vertical-align: middle">Température</td>
                <td style="vertical-align: middle">{{vm.core.temperature}} °C</td>
              </tr>
              <tr>
                <td style="vertical-align: middle">N° de série</td>
                <td style="vertical-align: middle">{{vm.core.serial}}</td>
              </tr>
              <tr>
                <td style="vertical-align: middle">Révision</td>
                <td style="vertical-align: middle">{{vm.core.revision}}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <!-- End Raspberry Model-->

    <!-- System -->
    <div class="col-centered col-md-4">
        <div class="box box-widget widget-user-2 card grid-item">
            <div class="box-header with-border">
              <h4 class="widget-user-username">{{ 'SYSTEME' | translate }}</h4>
            </div>
        <div class="box-body table-responsive">
          <table class="table table-striped">
            <tbody>
              <th colspan="2">Système</th>
              <tr>
                <td style="vertical-align: middle">Os</td>
                <td style="vertical-align: middle">{{vm.system.os}}</td>
              </tr>
              <tr>
                <td style="vertical-align: middle">Release</td>
                <td style="vertical-align: middle">{{vm.system.release}}</td>
              </tr>
              <th colspan="2">Réseau</th>
              <tr>
                <td style="vertical-align: middle">hostname</td>
                <td style="vertical-align: middle">{{vm.network.hostname}}</td>
              </tr>
              <tr colspan="2">
                <td style="vertical-align: middle">IP locale</td>
              <tr ng-repeat="face in vm.network.iplocal">
                <td>
                    &emsp;{{face.name}}
                </td>
                <td>
                  {{face.address}}
                </td>
              <tr>
                <td style="vertical-align: middle">IP externe</td>
                <td style="vertical-align: middle">{{vm.network.ipExterne}}</td>
              </tr>
              <th colspan="2">Répartition mémoire</th>
              <tr>
                <td style="vertical-align: middle">Mémoire CPU</td>
                <td style="vertical-align: middle">{{vm.memory.cpu}}</td>
              </tr>
              <tr>
                <td style="vertical-align: middle">Mémoire GPU</td>
                <td style="vertical-align: middle">{{vm.memory.gpu}}</td>
              </tr>
            </tbody>
          </table>
        </div>

      </div>
    </div>
    <!-- End Raspberry Model-->



  </div>
  <!-- row -->
  <div class="modal fade alexa-help" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-body">
          <div>
            {{ 'ALEXA_TEXT_1' | translate }}<br />
            {{ 'ALEXA_TEXT_2' | translate }}<br />
            {{ 'ALEXA_TEXT_3' | translate }}<br />
            {{ 'ALEXA_TEXT_4' | translate }}<br />
            {{ 'ALEXA_TEXT_5' | translate }}
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary btn-flat" data-dismiss="modal">OK</button>
        </div>
      </div>
    </div>
  </div>
</div>